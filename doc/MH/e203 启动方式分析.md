> 蜂鸟 e203 配套的 sdk

[GitHub - riscv-mcu/hbird-sdk: OpenSource HummingBird RISC-V Software Development Kit](https://github.com/riscv-mcu/hbird-sdk.git)

## 链接脚本和启动文件分析

`SoC/hbird/Board/hbird_eval/Source/GCC/gcc_hbird_flash.ld`
```
MEMORY
{
  flash (rxai!w) : ORIGIN = 0x20000000, LENGTH = 4M
  ilm (rxai!w) : ORIGIN = 0x80000000, LENGTH = 64K
  ram (wxa!ri) : ORIGIN = 0x90000000, LENGTH = 64K
}
```
- [x]  FLASH
- [x] ITCM
- [x] DTCM

基本启动流程:
1. 将代码烧些到 flash 
2. 在启动文件中,将 `.text`  段拷贝到 `ITCM` 中, 为 `.bss` 段 `.data` 段 在 `DTCM` 中分配空间.
3. 设置堆栈指针
4. 跳转到 C 运行环境,或者 `RT-thread` 启动函数

`SoC/hbird/Board/hbird_eval/Source/GCC/gcc_hbird_flashxip.ld` 
```
MEMORY
{
  flash (rxai!w) : ORIGIN = __ROM_BASE, LENGTH = __ROM_SIZE
  ram (wxa!ri) : ORIGIN = __RAM_BASE, LENGTH = __RAM_SIZE
}
```
- [x]  FLASH
- [ ] ITCM
- [x] DTCM
基本启动流程:
1. 将代码烧些到 flash 
2. 此时 `FLASH` 开启了 `XIP` 模式(eXecute In Place),可以直接原地执行指令
3. 在启动文件中,为 `.bss` 段 `.data` 段 在 `DTCM` 中分配空间.
4. 设置堆栈指针
5. 跳转到 C 运行环境,或者 `RT-thread` 启动函数

`SoC/hbird/Board/hbird_eval/Source/GCC/gcc_hbird_ilm.ld`
```
MEMORY
{
  ilm (rxai!w) : ORIGIN = 0x80000000, LENGTH = 64K
  ram (wxa!ri) : ORIGIN = 0x90000000, LENGTH = 64K
}
```
- [ ]  FLASH
- [x] ITCM
- [x] DTCM
基本启动流程:
1. 直接将代码烧录到 `ITCM` 中 (断电丢失,一般用于调试)
2. 在启动文件中,为 `.bss` 段 `.data` 段 在 `DTCM` 中分配空间.
3. 设置堆栈指针
4. 跳转到 C 运行环境,或者 `RT-thread` 启动函数

`SoC/hbird/Common/Source/GCC/startup_hbird.S` 
启动文件主要做了以下几件事情
1. 芯片初始化
2. 拷贝指令到 `ITCM` ,拷贝数据到 `IDCM`
3. 设置堆栈指针
4. 设备相关的外设初始化
5. 跳转到 C 运行环境,或者 `RT-thread` 启动函数


